#include <stdio.h>
#include <iostream>
#include <sys/ipc.h>
#include <sys/shm.h>
using namespace std;

int main() {
	key_t my_key = ftok("shmfile", 65);
	 if (my_key == -1) {
        perror("ftok failed");
        exit(1);
    }
	
	int shmid = shmget(my_key,1024,0666|IPC_CREAT);
	if (shmid == -1) {
        perror("shmget failed");
        exit(1);
    }
	char *str = (char *) shmat(shmid, (void *)0, 0);
	printf("Data read from memory %s", str);
	
	shmdt(str);
	shmctl(shmid,IPC_RMID,NULL);
	
	return 0;
}